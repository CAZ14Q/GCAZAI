export default async function handler(req, res) {
  // --- ุฅุถุงูุฉ ุชุตุงุฑูุญ ุงูุนุจูุฑ (CORS) ููู ุญุธุฑ ุงููุชุตูุญ ---
  res.setHeader('Access-Control-Allow-Origin', '*'); 
  res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

  // ุงูุฑุฏ ุนูู ุทูุจ ุงูุชุฃูุฏ ุงููุจุฏุฆู ูู ุงููุชุตูุญ
  if (req.method === 'OPTIONS') {
    return res.status(200).end();
  }

  // ุงูุชุฃูุฏ ุฃู ุงูุทูุจ ูู ููุน POST ููุท
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  try {
    const { message, system } = req.body;

    // ุงูุฑุฏ ุงูุฐูู ุงูููุณู
    const reply = `
ุชู ุงุณุชูุงู ุณุคุงูู ุจูุฌุงุญ ูู ูุธุงู G CAZ AI.

๐ฌ ุงูุชุญููู ุงูุจุงุทูู:
ูุฑุฌู ุชูุถูุญ ุงูุฃุนุฑุงุถ ุงูุณุฑูุฑูุฉ ููุญุงูุฉ ุงููุฐููุฑุฉ: (${message}).

๐ฉบ ุงูุชูููู ุงูุฌุฑุงุญู:
ุจูุงุกู ุนูู ุงููุนุทูุงุช ุงูุฃูููุฉุ ูุง ุชูุฌุฏ ูุคุดุฑุงุช ุฌุฑุงุญูุฉ ุนุงุฌูุฉ.

๐งฌ ุงูุชุญููู ุงูุฌููู:
ุณูุชู ูุทุงุจูุฉ ุงูุฃุนุฑุงุถ ูุน ูุงุนุฏุฉ ุจูุงูุงุช ุงููุชุบูุฑุงุช ุงููุฑุงุซูุฉ ููุฑ ุงูุชูุงู ุงูุฑุจุท.

(ูุฐุง ุงูุฑุฏ ูุคูุฏ ูุฌุงุญ ุงุชุตุงูู ุจุงูุณูุฑูุฑ ุจูุณุจุฉ 100%)
`;

    return res.status(200).json({ reply });
    
  } catch (error) {
    return res.status(500).json({ error: 'ุญุฏุซ ุฎุทุฃ ูู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจุงูุณูุฑูุฑ' });
  }
}
